<!DOCTYPE html>
<html lang="en" class="theme">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!---- Font-Awesome ----->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/all.css"
        integrity="sha384-SZXxX4whJ79/gErwcOYf+zWLeJdY/qpuqC4cAa9rOGUstPomtqpuNWT9wdPEn2fk" crossorigin="anonymous">
    <!----- CSS file Link ----->
    <link rel="stylesheet" href="/css/layout.css">

    <!---- Noty.js CDN  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noty/3.1.4/noty.min.css">

    <title>Ease-Buy</title>
    <%- style %>
</head>

<body>
    <!-- <div class="main-div">
        <div class="center-div">
            <div class="rot"></div>
            <h1 class="h1">Loading..</h1>

        </div> 
    </div>    -->

    <%- include('_header') %>


        <%- body %>


            <!-- JQuery -->
            <script type="text/javascript" src="/Javascript/jquery-3.4.1.min.js"></script>

            <!-- for preloader -->
            <script>
                // $(document).ready(function () {
                //     $('.main-div').fadeOut('slow',function(){
                //     $(this).remove();
                //     $('body').css({ 'overflow': 'visible' });
                // });



                // });

            </script>

            <!-- for Slider -->
            <script src="https://cdn.jsdelivr.net/bxslider/4.2.12/jquery.bxslider.min.js"></script>

            <!---- For Noty ---->
            <script src="https://cdnjs.cloudflare.com/ajax/libs/noty/3.1.4/noty.min.js"></script>

            <script>
                  
                var darkMode = false;

                // default to system setting
                if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
                    darkMode = true;
                }
                // preference from localStorage should overwrite
                if (localStorage.getItem('theme') === 'dark') {
                    darkMode = true;
                } else if (localStorage.getItem('theme') === 'light') {
                    darkMode = false;
                }

                if (darkMode) {
                    document.body.classList.toggle('dark');
                }
                

                document.addEventListener('DOMContentLoaded', () => {

                    document.getElementById('chkbox').addEventListener('change', () => {
                        document.body.classList.toggle('dark');
                        localStorage.setItem('theme', document.body.classList.contains('dark') ? 'dark' : 'light');
                    });

                });

            </script>

            <script>
       <% if (flash.success && flash.success.length > 0) { %>
                    new Noty({
                        theme: "relax",
                        timeout: '1500',
                        text: '<%= flash.success %>',
                        type: 'success',
                        layout: 'topRight'
                    }).show();
       <% } %>

       <% if (flash.error && flash.error.length > 0) { %>
                    new Noty({
                        theme: "relax",
                        timeout: '1500',
                        text: '<%= flash.error %>',
                        type: 'error',
                        layout: 'topRight'
                    }).show();
       <% } %>

            </script>
            <%- script %>
</body>

</html>